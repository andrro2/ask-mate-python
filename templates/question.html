{% extends 'layout.html' %}
{% block content %}
<div class="question_title"><h1>{{ question['title'] }}</h1></div>
<div class="question_table">
    <table cellspacing="0" cellpadding="15">
        <tr>
            <th>ID</th>
            <th>Submission time</th>
            <th>View number</th>
            <th>Message</th>
            <th>Image</th>
        </tr>
        <tr>
            {% for key in question %}
                {% if key != 'vote_number' and key!= 'title' %}
                    {% if key == 'message' %}
                        <td style="word-break: break-word">{{ question[key] }}</td>
                    {% else %}
                        <td>{{ question[key] }}</td>
                    {% endif %}
                {% endif %}
            {% endfor %}
        </tr>
    </table>
    <p style="position: absolute;right: 25%">Upvotes: {{ question['vote_number'] }}</p>
    <h2>Answers: </h2>
    <a style="text-decoration: underline;color: #F6D55C;"
       href="{{ url_for('add_answer', question_id = question_id) }}"
       id="add"><strong>Add new
        answer</strong></a>
    <table id="answer">
        {% if answers == [] %}
            <tr>
                <td>There is no answer for this question.</td>
            </tr>
        {% else %}
            <tr>
                <th>Submission time</th>
                <th>Message</th>
                <th>Image</th>
            </tr>
            {% for items in answers %}
                <tr>
                    {% for a in items %}
                        {% if a != 'vote_number' and a != 'question_id' and a != 'id' %}
                            {% if a == 'submission_time' %}
                                <td id="time">{{ items[a] }}</td>
                            {% else %}
                                <td>{{ items[a] }}</td>
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                    <td><a id="remove"
                           href="{{ url_for('remove_answer', answer_id = items['id'], question_id = question_id) }}">&#10060;</a>
                    </td>
                    <td id="upvote">{{ items['vote_number'] }}</td>
                </tr>
            {% endfor %}
        {% endif %}
    </table>
{% endblock %}
